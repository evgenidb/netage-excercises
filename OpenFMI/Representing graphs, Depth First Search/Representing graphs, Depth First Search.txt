Representing graphs, Depth First Search

link: http://judge.openfmi.net:9080/spoj0/contests.pl?contest_id=31